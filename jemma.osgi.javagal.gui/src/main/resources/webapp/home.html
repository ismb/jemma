<!DOCTYPE html>
<html manifest="cache.manifest">
	<head>
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	    <title>Java GAL - Console di Gestione</title>
	    <link rel="stylesheet" type="text/css" href="./css/jquery-ui-1.10.4.custom.css">
	    <link rel="stylesheet" type="text/css" href="./css/searchFilter.css">
	    <link rel="stylesheet" type="text/css" href="./css/ui.jqgrid.css">
	    <link rel="stylesheet" type="text/css" href="./css/ui.multiselect.css">
	    <link rel="stylesheet" type="text/css" href="./css/common.css">
	    <link rel="stylesheet" type="text/css" href="./css/layout-default-latest.css">
	    <link rel="stylesheet" type="text/css" href="./css/apprise.css">
	    <link rel="stylesheet" type="text/css" href="./css/custom.css">

		<script>
		
			// At the top of your script:
			if ( ! window.console ) console = { log: function(){} };
			// If you use other console methods, add them to the object literal above
	
			// Then, anywhere in your script:
			console.log('This message will be logged, but will not cause an error in IE7');
			
		    var arrowimages={down:['downarrowclass', './css/images/arrow-down.gif', 25], 
		    				 right:['rightarrowclass', './css/images/arrow-right.gif']};
		    
		</script>
	    
		<script type="text/javascript" src="./js/jquery/jquery.layout-latest.js"></script>
		<script type="text/javascript" src="./js/jquery/jquery.blockUI.js"></script>
		<script type="text/javascript" src="./js/jquery/i18n/grid.locale-it.js"></script>
		<script type="text/javascript" src="./js/jquery/apprise-1.5.full.js"></script>
		<script type="text/javascript" src="./js/common.js"></script>
		<script type="text/javascript" src="./js/gestPathLibrary.js"></script>
		<script type="text/javascript" src="./js/gestManufacturerLibrary.js"></script>
		<script type="text/javascript" src="./js/gestMenu.js"></script>
		<script type="text/javascript" src="./js/gestCreateCenterPane.js"></script>
		
		<script type="text/javascript" src="./js/langIT.js"></script>
		
		<script type="text/javascript" src="./js/arbor/arbor.js"></script>
		<script type="text/javascript" src="./js/arbor/arbor-tween.js"></script>
		<script type="text/javascript" src="./js/arbor/graphics.js"></script>
		<script type="text/javascript" src="./js/provaArborjs.js"></script>
		
		<script type="text/javascript">
		    $.datepicker.setDefaults($.datepicker.regional[ "it" ]);
		    $.datepicker.setDefaults({
		        changeMonth: true,
		        changeYear: true,
		        dateFormat: 'dd/mm/yy',
		        yearRange:"c-100:c+10"
		    });
		    
		    window.alert = function(msg, title, callback)
		    {
		        //jAlert(msg, title, callback);
		        apprise(msg,{},callback);
		
		    }
		
		    
		    window.confirm = function(msg, title, callback)
		    {
		        //jConfirm(msg, title, callback);
		        apprise(msg, {'verify':true, 'textYes':'Si', 'textNo':'No'},callback);
		    }
			
			
		    window.prompt = function(message, value, title, callback)
		    {
		        //jPrompt(message, value, title, callback);
		        apprise(msg, {input:true}, callback);
		    }
		
		    var confirmV2 = function(msg, callback)
		    {
		        apprise(msg,{'newVerify':true, 'textYes':'Si', 'textNo':'No','textCancel':'Annulla'},callback);
		    }
		
		</script>
		<script type="text/javascript">
		    $(document).ready(function () {
		        var javaGalGuiLayout = $('body').layout({
		        										  resizeWhileDragging: true, 
		        										  sizable: false, 
		        										  animatePaneSizing: true, 
		        										  fxSpeed: 'slow', 
		        										  north__size: "25%", 
		        										  center__size: "80%", 
		        										  west__size: "20%", 
		        										  spacing_open: 0, 
		        										  spacing_closed: 0});
		        
		        $.ajax({
					dataType:"json",
					url: DEFINEPATH.channelPath
				}).done(function(data){
					
					if (data.status.code == 0){
						//Tutto ok
						var chR = data.detail.value[0];
						$.jStorage.set("ChannelRadioValue", chR);
						$('#spChannelRadioHP').text(chR);
						$('#spZigBeeState').text('ATTIVA').css('color', 'green');
					} else {
						//Visualizzo il messaggi odi errore
						$.jStorage.set("ChannelRadioError", data.status.message);
						$('#spChannelRadioHP').text(data.status.message);
						$('#spZigBeeState').text('DISATTIVA').css('color', 'red');
					}
				}); 
		        
		        var myGestCPane = new jGGGestCenterPane();
		        var myMenu = new jGGSxMenu();
		        	myMenu.newButton('btnCanaleRadio', myGestCPane.templateActivator, 'tplCanaleRadio');
		        	myMenu.newButton('btnVersionJGal', myGestCPane.templateActivator, 'tplVersionJGal'); 
		        	myMenu.newButton('btnViewDevice', myGestCPane.templateActivator, 'tplViewDevice');
		        	myMenu.newButton('btnViewGraphNodes', myGestCPane.templateActivator, 'tplViewGraphNodes');
		        	myMenu.newButton('btnInsertDevice', myGestCPane.templateActivator, 'tplInsertDevice');
		        	myMenu.newButton('btnManageNetwork', myGestCPane.templateActivator, 'tplManageNetwork');
		    });
	    </script>
		<script type="text/javascript" src="./js/xmlPathLibrary.js"></script>
		<script type="text/javascript" src="./js/readXML.js"></script>
	</head>
	<body>
		<div id="north" class="ui-layout-north" style="overflow: hidden;">
		    <table border="0">
		        <tr>
		            <td valign="middle" align="left" width="20%">
		            	Canale Radio Attuale: <span id="spChannelRadioHP"></span><br />
		            	Stato rete ZigBee: <span id="spZigBeeState"></span><br />
		            </td>
		            <td valign="middle" width="60%" style="background-color: red"><label class="title">Java GAL - Console di gestione</label></td>
		            <td valign="middle" width="20%"><img src="images/2000px-logo_telecom_italia-svg.png" height="100px"/></td>
		        </tr>
		    </table>
		    </div>
		<div id="west" class="ui-layout-west">
			<button id="btnCanaleRadio"></button>
			<button id="btnVersionJGal"></button>
			<button id="btnViewDevice"></button>
			<button id="btnViewGraphNodes"></button>
			<button id="btnInsertDevice"></button>
			<button id="btnManageNetwork"></button>
		</div>
		<div id="center" class="ui-layout-center">
		    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum quis sapien aliquet, consequat nisl eu, rhoncus erat. Maecenas nec ornare velit. Pellentesque at justo a urna placerat dictum vitae ut erat. Maecenas sit amet quam mi. Duis ac ullamcorper massa. Fusce at enim condimentum, faucibus mi quis, molestie ligula. Aenean a tincidunt erat, sed aliquam est. Praesent iaculis urna a malesuada fringilla. Ut iaculis purus nunc, tempor tempus sapien sollicitudin eget. Morbi vitae tellus ut nunc rhoncus facilisis. Proin at neque non lacus tempus tempus sed convallis metus. Proin fermentum, eros non pretium accumsan, urna arcu iaculis tortor, sed euismod ligula purus eget odio. Quisque quis velit cursus nibh pellentesque commodo et a orci. Maecenas laoreet aliquam tortor, eget consectetur leo rutrum sit amet.


<script type="text/javascript" lang="javascript">
	// At the top of your script:
	if (!window.console)
		console = {
			log : function() {
			}
		};
	// If you use other console methods, add them to the object literal above

	// Then, anywhere in your script:
	console
			.log('This message will be logged, but will not cause an error in IE7');

	var arrowimages = {
		down : [ 'downarrowclass', './css/images/arrow-down.gif', 25 ],
		right : [ 'rightarrowclass', './css/images/arrow-right.gif' ]
	};

	function supportImports() {
		return 'import' in document.createElement('link');
	}
	if (supportImports()) {
		function handleLoad(e) {
			console.log('Loaded import: ' + e.target.href);
		}
		function handleError(e) {
			console.log('Error loading import: ' + e.target.href);
		}
	} else {
		console.log('Your browser not suport dynamic import :(!, then....');
		var arrTplToImport = [ './radioChannel.html', './versionJGal.html',
				'./viewDevice.html', './viewGraphNodes.html',
				'./insertDevice.html', './manageNetwork.html' ];
		for (var iCounter = 0; iCounter < arrTplToImport.length; iCounter++) {
			$.ajax({
				dataType : "html",
				url : arrTplToImport[iCounter]
			}).done(function(data) {
				$("body").append(data);

			});
		}

	}
</script>

<link rel="import" type="text/html" href="./radioChannel.html"
	onload="handleLoad(event)" onerror="handleError(event)">
<link rel="import" type="text/html" href="./versionJGal.html"
	onload="handleLoad(event)" onerror="handleError(event)">
<link rel="import" type="text/html" href="./viewDevice.html"
	onload="handleLoad(event)" onerror="handleError(event)">

<script type="text/javascript" src="./js/jquery/jquery.layout-latest.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.blockUI.js"></script>
<script type="text/javascript" src="./js/jquery/i18n/grid.locale-it.js"></script>
<script type="text/javascript" src="./js/jquery/apprise-1.5.full.js"></script>
<script type="text/javascript" src="./js/common.js"></script>
<script type="text/javascript" src="./js/gestPathLibrary.js"></script>
<script type="text/javascript" src="./js/gestManufacturerLibrary.js"></script>
<script type="text/javascript" src="./js/gestMenu.js"></script>
<script type="text/javascript" src="./js/gestCreateCenterPane.js"></script>

<script type="text/javascript" src="./js/langIT.js"></script>

<script type="text/javascript" src="./js/arbor/arbor.js"></script>
<script type="text/javascript" src="./js/arbor/arbor-tween.js"></script>
<script type="text/javascript" src="./js/arbor/graphics.js"></script>
<script type="text/javascript" src="./js/provaArborjs.js"></script>
<!-- script type="text/javascript" src="./js/render.js"></script> -->

<script type="text/javascript">
	$.datepicker.setDefaults($.datepicker.regional["it"]);
	$.datepicker.setDefaults({
		changeMonth : true,
		changeYear : true,
		dateFormat : 'dd/mm/yy',
		yearRange : "c-100:c+10"
	});

	window.alert = function(msg, title, callback) {
		//jAlert(msg, title, callback);
		apprise(msg, {}, callback);

	}

	window.confirm = function(msg, title, callback) {
		//jConfirm(msg, title, callback);
		apprise(msg, {
			'verify' : true,
			'textYes' : 'Si',
			'textNo' : 'No'
		}, callback);
	}

	window.prompt = function(message, value, title, callback) {
		//jPrompt(message, value, title, callback);
		apprise(msg, {
			input : true
		}, callback);
	}

	var confirmV2 = function(msg, callback) {
		apprise(msg, {
			'newVerify' : true,
			'textYes' : 'Si',
			'textNo' : 'No',
			'textCancel' : 'Annulla'
		}, callback);
	}
</script>
<script type="text/javascript">
	$(document).ready(
			function() {
				$('body').layout({
					applyDefaultStyles : true,
					west__size : 300
				});

				$.ajax({
					dataType : "json",
					url : DEFINEPATH.channelPath
				}).done(
						function(data) {

							if (data.status.code == 0) {
								//Tutto ok
								var chR = data.detail.value[0];
								$.jStorage.set("ChannelRadioValue", chR);
								$('#spChannelRadioHP').text(chR);
								$('#spZigBeeState').text('ATTIVA').css('color',
										'green');
							} else {
								//Visualizzo il messaggi di errore
								$.jStorage.set("ChannelRadioError",
										data.status.message);
								$('#spChannelRadioHP')
										.text(data.status.message);
								$('#spZigBeeState').text('DISATTIVA').css(
										'color', 'red');
							}
						});

				var myGestCPane = new jGGGestCenterPane();
				var myMenu = new jGGSxMenu();
				myMenu.newButton('btnCanaleRadio',
						myGestCPane.templateActivator, 'tplCanaleRadio');
				myMenu.newButton('btnVersionJGal',
						myGestCPane.templateActivator, 'tplVersionJGal');
				myMenu.newButton('btnViewDevice',
						myGestCPane.templateActivator, 'tplViewDevice');
				myMenu.newButton('btnViewGraphNodes',
						myGestCPane.templateActivator, 'tplViewGraphNodes');

				myMenu.newButton('btnManageNetwork',
						myGestCPane.templateActivator, 'tplManageNetwork');
			});
</script>
</head>
<body>
	<div id="north" class="ui-layout-north"
		style="width: 100%; padding: 0px !important; white-space: nowrap;">
		<div
			style="width: 300px; height: 100%; background-color: white; float: left; text-align: center;">
			<br> Channel Radio: <span id="spChannelRadioHP"></span> <br />
			State of network: <span id="spZigBeeState"></span>
		</div>
		<!-- div id="ghostDiv" style="display: none;"></div> -->
	</body>
</html>